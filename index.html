<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unvote</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://accounts.google.com/gsi/client" async defer></script>

    


</head>
<body>
    <header>
    <a href="Z:\Docs\Code\Unvote\index.html"><div class = "logo">Unvote</div></a>

    <nav>
    <ul class = "nav_links">
      
      <li><a href=#>Home</a></li>
      <li><a href=#>Menu</a></li>
      <li><a href=#>Sign Up</a></li>

    </ul>
    </nav>

  <div class="search-box">
    
  
  <div class="wrapper-search">
    <div class="search-input">
      <a href="" target="_blank" hidden></a>
      <input type="text" placeholder="Minister's Name" /><span class="search-span"></span>
      
  </div>
</div>

  </div>
    
  </header>



    <section class = "section-fwh "> 
    <div class="title-text"> Unvote </div>
    <div class="tag-line"> Power to you. </div>
    </section>

  <section class = "section-fwh grey"> 
    <h2 class="heading-sec2">Trending Leaders</h2>
  <div class="cards">
     <div class="container-cd in">
        <div class="card">
            <div class="imgBx">
                <img src="images/narendra-modi-tsp.png">
            </div>

            <div class="contentBx">

                <h2>Narendra Modi</h2>

                <div class="size">
                    <h3>Prime Minister</h3>

                 <div class="color"><h3>India</h3></div>

                </div>
            </div>
          </div>
      </div>

    <div class="container-cd usa">
      <div class="card">
          <div class="imgBx">
              <img src="images/joe-biden-tsp.png">
          </div>

          <div class="contentBx">

              <h2>Joe Biden</h2>

              <div class="size">
                  <h3>President</h3>

               <div class="color"><h3>U.S.A.</h3></div>

              </div>
          </div>
        </div>
</div>


<div class="container-cd jp">
  <div class="card">
      <div class="imgBx">
          <img src="images/shinzo-abe-tsp.png">
      </div>

      <div class="contentBx">

          <h2>Shinzo Abe</h2>

          <div class="size">
              <h3>Prime Minister</h3>

           <div class="color"><h3>Japan</h3></div>

          </div>
      </div>
    </div>
</div>



</div>

</section>
<section class = "section-fwh"> 

  <div id="LoginScreen">
    <button id="login"> Login with Google</button>
  </div>

  <div id="dashboard">
    <button id="logout">Logout</button>
  </div>

</section>
<script>
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAi5pY390s-Ic4I9AAuQEUVqob4NMgWxww",
  authDomain: "unvote-1.firebaseapp.com",
  projectId: "unvote-1",
  storageBucket: "unvote-1.appspot.com",
  messagingSenderId: "797125205241",
  appId: "1:797125205241:web:eaa5614e910e07879e9628",
  measurementId: "G-YNEWRKHM54"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

document.getElementById('dashboard').style.display="none"

document.getElementById('login').addEventListener('click', GoogleLogin)
document.getElementById('logout').addEventListener('click', LogoutUser)

let provider = new firebase.auth.GoogleAuthProvider()

function GoogleLogin(){
  console.log('Login Btn Call')
  firebase.auth().signInWithPopup(provider).then(res=>{
    console.log(res.user)
    document.getElementById('LoginScreen').style.display="none"
    document.getElementById('dashboard').style.display="block"
    showUserDetails(res.user)
  }).catch(e=>{
    console.log(e)
  })
}

function showUserDetails(user){
  document.getElementById('userDetails').innerHTML = `
    <img src="${user.photoURL}" style="width:10%">
    <p>Name: ${user.displayName}</p>
    <p>Email: ${user.email}</p>
  `
}

function checkAuthState(){
  firebase.auth().onAuthStateChanged(user=>{
    if(user){
      document.getElementById('LoginScreen').style.display="none"
      document.getElementById('dashboard').style.display="block"
      showUserDetails(user)
    }else{

    }
  })
}

function LogoutUser(){
  console.log('Logout Btn Call')
  firebase.auth().signOut().then(()=>{
    document.getElementById('LoginScreen').style.display="block"
    document.getElementById('dashboard').style.display="none"
  }).catch(e=>{
    console.log(e)
  })
}
checkAuthState()

</script>
<script src="suggestions.js"></script>
<script src="script.js"></script>

</body>
</html>